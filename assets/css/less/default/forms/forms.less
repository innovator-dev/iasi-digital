/*
 * Ia»ôi Digital
 * A data-driven perspective of the city.
 *
 * @author Innovator Dev <hello@innovator.dev>
 * @link https://oras.digital
 * @link https://iasi.digital
 *
 * @copyright (c) 2023-2025. Iasi Digital [https://iasi.digital]
 */

// Placeholder
// Chrome, Opera, Safari
::-webkit-input-placeholder {
  color: var(--text-color);
  background: transparent;
}

// Firefox 19+
::-moz-placeholder {
  color: var(--text-color);
}

// IE 10+
:-ms-input-placeholder {
  color: var(--text-color);
}

// Firefox 18-
:-moz-placeholder {
  color: var(--text-color);
}

// Grouping elements
.form-group {
  margin-top: 1.4em;

  &:nth-of-type(1),
  &.clean-margin {
    margin-top: 0;
  }

  // Centered group
  &.form-group-centered {
    align-items: center;
  }

  // Half size
  &.form-group-sm {
    @media (min-width: @mediaQueryMedium) {
      .grid(6);
    }
  }
}

// Inline group with no distance
.form-group-inline {
  padding-bottom: 0;

  display: flex;
  flex-flow: column nowrap;
  margin-bottom: 0;
  align-items: center;

  &.fqi-as-row {
    flex-flow: row nowrap;
  }

  @media (min-width: @mediaQueryMedium) {
    display: flex;
    flex-flow: row nowrap;
    margin-bottom: 0;
    align-items: center;

    &.fgi-start {
      justify-content: flex-start;
    }

    &.fgi-align-start {
      align-items: flex-start;
    }

    &.fgi-margins {
      & > *:not(:first-child) {
        margin-left: .75em;
      }
    }

    &.fgi-separator {
      border-top: 1px solid var(--separator-line);
      padding-top: 1em;
      margin-top: 1em;
    }

    &.fgi-bordered {
      border: 1px solid var(--separator-line);
      border-radius: .5em;
      padding: 1em;
    }
  }

  & > div {
    margin-top: 1.4em;
    .grid;

    @media (min-width: @mediaQueryMedium) {
      margin-top: 0;
      .grid(5.7);
    }
  }

  &.cols-3 {
    & > div {

      @media (min-width: @mediaQueryMedium) {
        .grid(4);
        margin-left: 1em;

        &:nth-child(1) {
          margin: 0;
        }
      }
    }
  }

  &.cols-4 {
    & > div {

      @media (min-width: @mediaQueryMedium) {
        .grid(3);
        margin-left: 1em;

        &:nth-child(1) {
          margin: 0;
        }
      }
    }
  }
}

// Labels
.form-label {
  display: block;
  max-width: 100%;
  margin: 0 0 .25em;
  font-size: 1em;

  &.form-label-inline {
    display: inline-block;
    margin: 0;
  }
}

// Controls
.form-control {
  position: relative;
  display: block;

  .grid;
  max-width: 100%;

  padding: .6em .8em;
  font-size: 1em;

  background-color: var(--input-primary-background-color);
  color: var(--text-color);

  border-radius: .25em;

  border-style: solid;
  border-width: 1px 1px 1px 1px;
  border-color: var(--input-primary-border-color);

  transition: border-bottom-color .05s;

  -ms-touch-action: manipulation;
  touch-action: manipulation;

  &:focus, &:active {
    outline: none;

    border-color: var(--input-primary-border-hover-color);
    box-shadow: 0 0 .25em var(--input-primary-shadow-color);
  }

  &:disabled {
    background-color: var(--color-input-disabled-background-color);
  }

  // Dark form control
  &.form-control-dark {
    background-color: var(--input-secondary-background-color);
    color: var(--text-color-white);
    border-color: var(--input-secondary-border-color);

    &:focus, &:active {
      border-color: var(--input-secondary-border-hover-color);
      box-shadow: 0 0 .75em var(--input-secondary-shadow-color);
    }
  }

  // No shadow on hover or active
  &.form-control-no-shadow {
    &:focus, &:active {
      box-shadow: none;
    }
  }

  // Form control styling
  &.form-control-1 {
    border-color: var(--button-tertiary-background-color);
  }

  // 2px bottom border
  &.form-control-2pbb {
    border-width: 1px 1px 2px;
  }

  // Smaller form control
  &.form-control-sm {
    font-size: .9em;
    padding: .4em 1em;
    line-height: 1.5em;
  }

  // File upload control
  &.form-control-upload {
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    padding: 0;
    font-size: 20px;
    cursor: pointer;
    opacity: 0;
    filter: alpha(opacity=0);
  }

  &.form-control-upload-drop {
    .grid;
    height: 100%;
  }

  &.form-control-symbol {
    text-transform: uppercase;
  }

  // AutoFill
  &:-webkit-autofill {
    -webkit-box-shadow: 0 0 0 40px var(--color-input-border-color) inset;
    border-color: var(--color-input-border-color);

    &::first-line {
      font-family: 'Rubik', Arial, sans-serif;
      font-weight: 400;
      margin: 0;
      font-size: 1.1em;
    }
  }
}

// Buttons
.form-buttons {
  display: flex;
  flex-flow: column nowrap;
  justify-content: space-around;
  align-items: center;

  margin: 2em auto 0;

  @media (min-width: 424px) {
    justify-content: space-around;
  }

  @media (min-width: @mediaQueryMedium) {
    flex-flow: row nowrap;
    justify-content: flex-start;
  }

  input[type=submit], input[type=button], input[type=reset], button, a.btn {
    .grid;
    margin: 1em auto 0;

    @media (min-width: @mediaQueryMedium) {
      width: auto;
      margin: 0 0 0 .75em;
    }

    &:first-child {
      margin: 0;
    }

    // Move to right
    &.ml {
      margin-left: auto;
    }

    &.mr {
      margin-right: auto;
    }
  }
}

// Select elements
.form-select {
  position: relative;

  select {
    padding-right: 2.5em;
    appearance: none;

    option {
      color: var(--text-color);
    }

    // Dark form control
    &.form-control-dark {

      option {
        color: var(--text-color-white);
      }
    }
  }

  &:after {
    position: absolute;
    display: block;
    content: '';

    border: 3px solid var(--text-color);
    border-radius: 2px;
    border-right: 0;
    border-top: 0;

    height: .625em;
    margin-top: -.4375em;
    pointer-events: none;

    top: 50%;
    transform: rotate(-45deg);
    transform-origin: center;
    width: .625em;
    right: 1em;
  }

  // Dark theme
  &.form-select-dark {
    &:after {
      border: 3px solid var(--text-color-white);
      border-right: 0;
      border-top: 0;
    }
  }
}

// Progress bar
progress {
  /* style rules */
}

progress::-webkit-progress-bar {
  /* style rules */
}

progress::-webkit-progress-value {
  /* style rules */
}

progress::-moz-progress-bar {
  /* style rules */
}

.form-progress-bar {
  width: 100%;
  margin: 0 auto;
  padding: 0;
  height: 8px;

  vertical-align: top;

  &.form-progress-bar-password-strength {
    height: 12px;
    vertical-align: bottom;
  }

  // Danger
  &.progress-bar-danger {
    accent-color: var(--danger);
  }

  &.progress-bar-warning {
    accent-color: var(--orange);
  }

  &.progress-bar-success {
    accent-color: var(--green);
  }
}

// Default button
.btn {
  display: inline-block;

  font-family: 'Rubik', Tahoma, sans-serif;
  font-size: 1em;

  border-radius: .3em;
  margin-bottom: 0;
  font-weight: 400;
  text-align: center;
  white-space: nowrap;
  vertical-align: middle;

  -ms-touch-action: manipulation;
  touch-action: manipulation;
  cursor: pointer;

  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  outline: none;

  line-height: 1.75em;
  padding: .25em .75em .2em;
  transition: background-color .05s;

  border: 1px solid transparent;

  // Focus/Active states
  &:focus, &:active {
    box-shadow: none;
    outline: none;
  }

  &.btn-lg {
    font-size: 1.25em;
    padding: .25em 1em .2em;
  }

  // Small button
  &.btn-sm {
    font-size: .9em;
    padding: .15em .5em .1em;
    line-height: 1.5em;
  }

  // Extra small button
  &.btn-xsm {
    font-size: .8em;
    padding: .175em .4em .15em;
    line-height: 1.25em;
  }

  // Centered button
  &.btn-centered {
    display: table;
    margin: auto;
  }

  // Disabled button
  &.btn-disabled,
  &:disabled {
    .simple-button(var(--text-color-disabled), var(--button-disabled-background-color), var(--button-disabled-background-color-hover));
    cursor: not-allowed;
  }

  // Clear styling
  &.btn-clear {
    background: transparent;
    border: none;
    outline: none;
    border-radius: 0;
  }

  // Wide button in mobile
  &.btn-wide-mobile {
    @media (max-width: 425px) {
      width: 100%;
    }
  }
}